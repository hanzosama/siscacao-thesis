<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <body>

        <ui:composition template="./../solicitudesTemplate.xhtml">
            <ui:define name="content" >
                <p:ajaxStatus onstart="statusDialog.show();" onsuccess="statusDialog.hide();" >  
                    <p:dialog modal="true" widgetVar="statusDialog"   
                              draggable="false" closable="false">  
                        <p:graphicImage value="#{appBean.baseURL}resources/gfx/ajax-loader.gif" />
                    </p:dialog> 
                </p:ajaxStatus>
                <p:dashboard id="board" model="#{dashboardBean.model}" > 
                    <p:panel id="Resultados" header="Asertividad de las redes neuronales" toggleable="true">
                        <h:outputText value="Resultados analizados &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                      "/>
                        <p:pieChart id="pieResult"  value="#{dashboardBean.pieResultNeuroph}" legendPosition="w" fill="true" showDataLabels="true" diameter="200" /> 
                    </p:panel>
                    <p:panel id="Resultados2" header="Concurrencia de las enfermedades" toggleable="true">
                        <h:outputText value="Resultados analizados &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"/>
                        <p:barChart id="barChartCartesianMadness" value="#{dashboardBean.cartesianMadness}" legendPosition="ne" max="100" yaxisLabel="Total de casos registrados: #{dashboardBean.totalRecords}" xaxisLabel="Enfermedades registradas"/>
                    </p:panel>
                    <p:panel id="Resultados3" header="Enfermedades presentes por departamento" toggleable="true" >
                        <p:messages id="msRespuesta"  showDetail="false" autoUpdate="true"  closable="true"/>
                        <h:form id="form_departameto_report">
                             <h:panelGrid columns="3" cellpadding="5">
                                 <p:selectOneMenu id="departamento" value="#{dashboardBean.selectedDepartamento}" required="true" requiredMessage="Es necesaro seleccionar un departamento para generar el reporte" filter="true" >  
                                <f:selectItem itemLabel="seleccione" itemValue="" />  
                                <f:selectItems value="#{dashboardBean.listDepartamentos}" var="depto" itemLabel="#{depto.nombreDepartamento}" itemValue="#{depto.idDepartamento}" rendered="true"/>
                            </p:selectOneMenu>
                                 <p:commandButton icon="ui-icon-play" actionListener="#{dashboardBean.generateDepartamentResport}" update="pieResult2"/>
                             </h:panelGrid>
                            <br/>

                            <h:outputText value="Resultados analizados &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                          "/>
                            <p:pieChart id="pieResult2"  value="#{dashboardBean.pieResultNeurophByDepartament}" legendPosition="w" fill="true" showDataLabels="true" diameter="200" /> 

                        </h:form>

                    </p:panel>

                </p:dashboard>
            </ui:define>
        </ui:composition>
    </body>
</html>
